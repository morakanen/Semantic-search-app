<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semantic News Search</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Preloader -->
  <div class="preloader" id="preloader">
    <div class="circle one"></div>
    <div class="circle two"></div>
    <div class="circle three"></div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      console.log("Starting GSAP animation...");
      const preloader = document.getElementById('preloader');

      // Create GSAP timeline
      const tl = gsap.timeline({
        onComplete: () => {
          preloader.style.display = "none";
        }
      });

      // Animation sequence
      tl.to('.circle.one', { scale: 1.3, duration: 1, repeat: -1, yoyo: true, ease: "power1.inOut" }, 0);
      tl.to('.circle.two', { scale: 1.5, duration: 1, repeat: -1, yoyo: true, ease: "power1.inOut" }, 0.2);
      tl.to('.circle.three', { scale: 1.7, duration: 1, repeat: -1, yoyo: true, ease: "power1.inOut" }, 0.4);

      console.log("GSAP animation triggered.");
    });
  </script>

    <!-- Header Section -->
    <header class="header" role="banner">
        <div class="headerContanor">
            <h1 class="headerText" id="main-title">Semantic News Search</h1>
            <button 
                class="toggleTheme" 
                id="toggleThemeButton" 
                aria-label="Toggle between dark mode and light mode">Toggle Dark Mode</button>
        </div>
    </header>

    <!-- Main Content Section -->
    <main role="main">
        <div class="history-dropdown">
            <button id="historyButton" class="history-button" aria-expanded="false" aria-haspopup="true">
                Search History
            </button>
            <div class="history-list-container" id="historyDropdown">
                <ul id="historyList" class="history-list"></ul>
                <button id="clearHistoryButton" class="clear-history-button">Clear History</button>
            </div>
        </div> 
        
        <section id="search-section" aria-labelledby="search-section-heading">
            <h2 id="search-section-heading">Search for News</h2>
            <label for="searchQuery" class="visually-hidden">Enter search query</label>
            <input 
                type="text" 
                id="searchQuery" 
                placeholder="Enter your search query" 
                aria-describedby="search-description">
            <p id="search-description" class="visually-hidden">
                Type a keyword or phrase to search for news articles.
            </p>
            <div class="button-group">
                <button id="searchButton" aria-label="Search for news articles">Search</button>
                <button id="translateButton" aria-label="Translate the results">Translate</button>
            </div>
        </section>

        <section id="results-section" aria-labelledby="results-section-heading">
            <p id="translationResult" aria-live="polite"></p>
            <div id="results" class="results-container" aria-live="polite" aria-busy="false">
                <!-- Results will be dynamically populated here -->
            </div>
            <div id="paginationControls" style="text-align: center; margin-top: 20px;"></div>
        </section>

    </main> 

    <!-- Footer Section -->
    <footer role="contentinfo">
        <p>&copy; 2025 Semantic Search by Elise and Alan.</p>
    </footer>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder"></script>
    <script type="module" src="script.js"></script>
</body>
</html>